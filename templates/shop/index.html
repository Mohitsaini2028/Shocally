
{% extends 'base.html' %}

{% block title %} ShocallyHomePage {% endblock title %}

{% load static %}

{% block link %}

<link rel="stylesheet" href="{% static 'css/shop/slider.css' %}">
<link rel="stylesheet" href="{% static 'css/shop/ratingStyle.css' %}">
{% endblock %}

/* Modified from: https://github.com/mukulkant/Star-rating-using-pure-css */


{% block body %}







<div class="container">
    <!--Slideshow starts here -->

    {% for shop, range, nSlides in allShop %}

    <h5 class="my-4"><mark>Flash Sale</mark> On {{shop.0.shopCategory}} -Recommended Items</h5>
    <div class="row">
        <div id="demo{{forloop.counter}}" class="col carousel slide my-3" data-ride="carousel">
            <ul class="carousel-indicators">
                <li data-target="#demo{{forloop.counter}}" data-slide-to="0" class="active"></li>
                {% for i in range %}
                <li data-target="#demo{{forloop.parentloop.counter}}" data-slide-to="{{i}}"></li>
                {% endfor %}
            </ul>
            <div class="container carousel-inner no-padding">
                <div class="carousel-item active">
                    {% for i in shop %}

                  <div class="col-xs-3 col-sm-3 col-md-3">
                      <div class="card align-items-center" style="width: 18rem;">
                        <img src='/media/{{i.shopImg}}' class="card-img-top" alt="...">
                          <div class="card-body">
                            <h6 class="card-title text-primary " id="namepr{{i.id}}" ><b>Shop Name  : </b>{{i.shopName|title|slice:"31"}}</h6>

                            {% if i.shopName|length < 12 %}
                              <br class="p-5">

                            {% endif %}

                                <!-- <p class="card-title" id="namepr{{i.id}}"><b>Rating : </b>{{i.shopRating}}</p> -->
                          <a href='/shop/ratingPage'>
                          <div class="rate" id="rating{{i.id}}">
                            <input type="radio" id="star5" name="rate" value="5" />
                            <label for="star5" title="text">5 stars</label>
                            <input type="radio" id="star4" name="rate" value="4" />
                            <label for="star4" title="text">4 stars</label>
                            <input type="radio" id="star3" name="rate" value="3" />
                            <label for="star3" title="text">3 stars</label>
                            <input type="radio" id="star2" name="rate" value="2" />
                            <label for="star2" title="text">2 stars</label>
                            <input type="radio" id="star1" name="rate" value="1" />
                            <label for="star1" title="text">1 star</label>
                         </div>
                         </a>

                        <script type="text/javascript">

                        //   $('.changePage').on('click',function(e){
                        //     console.log({{shop.id}})
                        //    window.location.href="/shop/ratingPage/{{i.id}}/shop";
                        // });

                          console.log(2*parseInt({{i.shopRating}}))
                          s=document.getElementById('rating{{i.id}}');
                          y=s.children

                          if ( {{i.shopRating}} != 0.0){
                            y[10-2*parseInt({{i.shopRating}})].checked=true;
                          }
                        </script>

                        <br><br>

                        <p class="card-title" id="namepr{{i.id}}"><b>Category : </b>{{i.shopCategory}}</p>
                        <p class="card-title" id="namepr{{i.id}}"><b>Address : </b>{{i.shopAddress|title|slice:"55"}}</p>
                        <p class="card-title" id="namepr{{i.id}}"><b> Contact : </b>{{i.user.PhoneNo}}</p>
        <!--             <h6 class="card-title" >Price: <span id="pricepr{{i.id}}">Rs.{{i.price}}</span></h6> -->

                        <a href="/shop/shopView/{{i.id}}"><button id="qv{{i.id}}" class="btn btn-primary ">QuickView</button></a>
                        <!-- <a href="/shop/shopView/{{i.id}}"><button id="qv{{i.id}}" class="btn btn-primary cart">QuickView</button></a> -->
                    </div>
                  </div>
                </div>


                    {% if forloop.counter|divisibleby:4 and forloop.counter > 0 and not forloop.last %}
                </div>
                <div class="carousel-item">
                    {% endif %}

                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- left and right controls for the slide -->
        <a class="carousel-control-prev" href="#demo{{forloop.counter}}" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#demo{{forloop.counter}}" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
    </div>
    {% endfor %}
</div>






{% endblock %}


{% block js %}
<script>

  console.log("index");

</script>
{% endblock %}
